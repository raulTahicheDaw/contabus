<ion-header>

  <ion-navbar color="dark">
    <ion-title>
      <img src="./assets/imgs/onlylogo.png" class="logo" float-left>
      <h3>Servicios</h3>
    </ion-title>
    <ion-buttons end>
      <button ion-button color="light" clear item-right icon-only (click)="showOptions()">
        <ion-icon name="more"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
  <ion-item class="fecha">
    <ion-label>Elige dia</ion-label>
    <ion-datetime #Dia displayFormat="DD-MM-YYYY" pickerFormat="DD-MM-YYYY" [(ngModel)]="dia"
                  (ionChange)="onChange(Dia.value)"></ion-datetime>
  </ion-item>
</ion-header>


<ion-content class="gradient" padding>
  <ion-card *ngFor='let servicio of servicios | async'
            [ngClass]="{'bg-finalizado': servicio.estado === 'terminado', 'bg-cancelado': servicio.estado==='cancelado'}">
    <ion-card-header>
      <span class="hora">{{servicio.hora_inicio}}</span>
      <ion-icon class="estado" color="warning" *ngIf="servicio.estado === 'pendiente'" name="clock"></ion-icon>
      <ion-icon class="estado" color="danger" *ngIf="servicio.estado === 'cancelado'" name="close-circle"></ion-icon>
      <ion-icon class="estado" color="secondary" *ngIf="servicio.estado === 'terminado'" name="done-all"></ion-icon>
      <span class="num_orden"><strong>Ord:</strong> {{servicio.orden}}</span>
      <ion-icon name="more" float-end (click)="opcionesServicio(servicio)"></ion-icon>
    </ion-card-header>
    <ion-item>
      <h2 class="descripcion">{{servicio.descripcion}}</h2>
      <h3>
        <span class="matricula">
          <strong>Matr.: </strong>{{servicio.matricula}}
        </span>
        <span class="paxs">
          <strong>Paxs:</strong> {{servicio.paxs}}
        </span>
      </h3>
      <h3><strong>Cliente: </strong>{{servicio.cliente}}</h3>
      <h3><strong>Obsr: </strong></h3>
      <p text-wrap>{{servicio.observaciones}}</p>
      <h3 float-end><strong>Hora Fin: </strong>{{servicio.hora_fin}}</h3>
    </ion-item>
  </ion-card>
</ion-content>
